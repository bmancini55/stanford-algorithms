const BigNumber = require('bignumber.js');
const { expect } = require('chai');
const { expBySquaring } = require('../../src/math/exponentiation');

describe('expBySquaring', () => {
	it('should work for n=0', () => {
		let result = expBySquaring(new BigNumber(5), new BigNumber(0));
		expect(result.toString()).to.equal('1');
	});

	it('should work for n=1', () => {
		let result = expBySquaring(new BigNumber(5), new BigNumber(1));
		expect(result.toString()).to.equal('5');
	});

	it('should work for n=even', () => {
		let result = expBySquaring(new BigNumber(5), new BigNumber(1000));
		expect(result.toFixed()).to.equal(
			'933263618503218878990089544723817169617091446371708024621714339795966910975775634454440327097881102359594989930324242624215487521354032394841520817203930756234410666138325150273995075985901831511100490796265113118240512514795933790805178271125415103810698378854426481119469814228660959222017662910442798456169448887147466528006328368452647429261829862165202793195289493607117850663668741065439805530718136320599844826041954101213229629869502194514609904214608668361244792952034826864617657926916047420065936389041737895822118365078045556628444273925387517127854796781556346403714877681766899855392069265439424008711973674701749862626690747296762535803929376233833981046927874558605253696441650390625'
		);
	});

	it('should work for n=odd', () => {
		let result = expBySquaring(new BigNumber(5), new BigNumber(1001));
		expect(result.toFixed()).to.equal(
			'4666318092516094394950447723619085848085457231858540123108571698979834554878878172272201635489405511797974949651621213121077437606770161974207604086019653781172053330691625751369975379929509157555502453981325565591202562573979668954025891355627075519053491894272132405597349071143304796110088314552213992280847244435737332640031641842263237146309149310826013965976447468035589253318343705327199027653590681602999224130209770506066148149347510972573049521073043341806223964760174134323088289634580237100329681945208689479110591825390227783142221369626937585639273983907781732018574388408834499276960346327197120043559868373508749313133453736483812679019646881169169905234639372793026268482208251953125'
		);
	});
});
